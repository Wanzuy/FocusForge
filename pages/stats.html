<!DOCTYPE html>
<html lang="vi">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Th·ªëng k√™ - FocusForge</title>
        <link rel="stylesheet" href="../styles/pages.css" />
    </head>
    <body>
        <div class="container">
            <header class="page-header">
                <div class="header-content">
                    <div class="logo">
                        <img
                            src="../icons/icon32.png"
                            alt="FocusForge"
                            class="logo-icon"
                        />
                        <h1>FocusForge</h1>
                    </div>
                    <nav class="nav-tabs">
                        <a href="manage.html" class="nav-tab"
                            >Qu·∫£n l√Ω danh s√°ch</a
                        >
                        <a href="schedule.html" class="nav-tab">L·ªãch tr√¨nh</a>
                        <a href="settings.html" class="nav-tab">C√†i ƒë·∫∑t</a>
                        <a href="stats.html" class="nav-tab active">Th·ªëng k√™</a>
                    </nav>
                </div>
            </header>

            <main class="main-content">
                <div class="content-header">
                    <h2>üìä Th·ªëng k√™ s·ª≠ d·ª•ng</h2>
                    <p>Theo d√µi h√†nh vi v√† ti·∫øn ƒë·ªô t·∫≠p trung c·ªßa b·∫°n</p>
                </div>

                <!-- Overview Cards -->
                <div class="stats-overview">
                    <div class="stat-card">
                        <div class="stat-icon">üéØ</div>
                        <div class="stat-info">
                            <h3 id="todayBlocks">0</h3>
                            <p>Ch·∫∑n h√¥m nay</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üî•</div>
                        <div class="stat-info">
                            <h3 id="totalBlocks">0</h3>
                            <p>T·ªïng s·ªë l·∫ßn ch·∫∑n</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚è±Ô∏è</div>
                        <div class="stat-info">
                            <h3 id="focusTime">0h</h3>
                            <p>Th·ªùi gian t·∫≠p trung</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üìà</div>
                        <div class="stat-info">
                            <h3 id="focusStreak">0</h3>
                            <p>Ng√†y li√™n ti·∫øp</p>
                        </div>
                    </div>
                </div>

                <!-- Today's Details -->
                <div class="stats-section">
                    <div class="section-header">
                        <h3>H√¥m nay chi ti·∫øt</h3>
                        <div class="date-selector">
                            <input type="date" id="dateSelector" />
                        </div>
                    </div>

                    <div class="today-stats">
                        <div class="motivation-card">
                            <div class="motivation-content">
                                <h4 id="motivationTitle">
                                    üåü B·∫°n ƒëang l√†m r·∫•t t·ªët!
                                </h4>
                                <p id="motivationMessage">
                                    H√¥m nay b·∫°n ƒë√£ ki·ªÉm so√°t ƒë∆∞·ª£c b·∫£n th√¢n v√†
                                    t·∫≠p trung v√†o c√¥ng vi·ªác.
                                </p>
                            </div>
                        </div>

                        <div class="site-breakdown">
                            <h4>Breakdown theo website</h4>
                            <div class="site-stats-list" id="siteStatsList">
                                <!-- Site stats will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Weekly Chart -->
                <div class="stats-section">
                    <div class="section-header">
                        <h3>Bi·ªÉu ƒë·ªì 7 ng√†y</h3>
                        <div class="chart-controls">
                            <button
                                class="btn btn-sm btn-secondary"
                                id="prevWeek"
                            >
                                ‚Üê Tu·∫ßn tr∆∞·ªõc
                            </button>
                            <span id="weekRange">Tu·∫ßn n√†y</span>
                            <button
                                class="btn btn-sm btn-secondary"
                                id="nextWeek"
                            >
                                Tu·∫ßn sau ‚Üí
                            </button>
                        </div>
                    </div>

                    <div class="chart-container">
                        <canvas
                            id="weeklyChart"
                            width="800"
                            height="400"
                        ></canvas>
                    </div>
                </div>

                <!-- Top Blocked Sites -->
                <div class="stats-section">
                    <h3>Top website b·ªã ch·∫∑n nh·∫•t</h3>
                    <div class="top-sites-list" id="topSitesList">
                        <!-- Top sites will be loaded here -->
                    </div>
                </div>

                <!-- Focus Patterns -->
                <div class="stats-section">
                    <h3>Th√≥i quen t·∫≠p trung</h3>
                    <div class="patterns-grid">
                        <div class="pattern-card">
                            <h4>‚è∞ Th·ªùi gian t·∫≠p trung t·ªët nh·∫•t</h4>
                            <p id="bestFocusTime">08:00 - 10:00</p>
                            <small>D·ª±a tr√™n s·ªë l·∫ßn ch·∫∑n th·∫•p nh·∫•t</small>
                        </div>
                        <div class="pattern-card">
                            <h4>üìÖ Ng√†y t·∫≠p trung t·ªët nh·∫•t</h4>
                            <p id="bestFocusDay">Th·ª© 2</p>
                            <small>Ng√†y c√≥ √≠t l·∫ßn ch·∫∑n nh·∫•t</small>
                        </div>
                        <div class="pattern-card">
                            <h4>üéØ T·ª∑ l·ªá th√†nh c√¥ng</h4>
                            <p id="successRate">85%</p>
                            <small
                                >Th·ªùi gian kh√¥ng b·ªã ch·∫∑n / t·ªïng th·ªùi gian</small
                            >
                        </div>
                        <div class="pattern-card">
                            <h4>üí™ C·∫£i thi·ªán</h4>
                            <p id="improvement">+12%</p>
                            <small>So v·ªõi tu·∫ßn tr∆∞·ªõc</small>
                        </div>
                    </div>
                </div>

                <!-- Achievements -->
                <div class="stats-section">
                    <h3>üèÜ Th√†nh t√≠ch</h3>
                    <div class="achievements-grid" id="achievementsList">
                        <!-- Achievements will be loaded here -->
                    </div>
                </div>

                <!-- Emergency Access Log -->
                <div class="stats-section">
                    <h3>üö® L·ªãch s·ª≠ truy c·∫≠p kh·∫©n c·∫•p</h3>
                    <div class="emergency-log" id="emergencyLog">
                        <!-- Emergency log will be loaded here -->
                    </div>
                </div>

                <!-- Export Options -->
                <div class="stats-section">
                    <h3>üì§ Xu·∫•t d·ªØ li·ªáu</h3>
                    <div class="export-options">
                        <button class="btn btn-secondary" id="exportStatsBtn">
                            <svg
                                width="16"
                                height="16"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                            >
                                <path
                                    d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"
                                />
                                <polyline points="17,8 12,3 7,8" />
                                <line x1="12" y1="3" x2="12" y2="15" />
                            </svg>
                            Xu·∫•t th·ªëng k√™
                        </button>
                        <button class="btn btn-secondary" id="exportChartBtn">
                            <svg
                                width="16"
                                height="16"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                            >
                                <rect
                                    x="3"
                                    y="3"
                                    width="18"
                                    height="18"
                                    rx="2"
                                    ry="2"
                                />
                                <circle cx="9" cy="9" r="2" />
                                <path
                                    d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"
                                />
                            </svg>
                            Xu·∫•t bi·ªÉu ƒë·ªì
                        </button>
                    </div>
                </div>
            </main>
        </div>

        <script src="../js/stats.js"></script>
    </body>
</html>
